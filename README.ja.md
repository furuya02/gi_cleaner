# gi_cleaner

`.gitignore`で無視されるファイルを削除するコマンドラインツールです。

## 概要

`gi_cleaner`は、プロジェクトディレクトリをスキャンし、`.gitignore`のパターンに一致するファイルやディレクトリを特定して、確認後に削除します。ビルド成果物、キャッシュファイル、その他Gitにコミットすべきでない生成ファイルのクリーンアップに便利です。

## 機能

- 標準的なGitの`.gitignore`の動作に準拠
- サブディレクトリ内のネストした`.gitignore`ファイルをサポート
- 削除前にファイル一覧を表示
- 削除前に確認を求める
- 削除内容をプレビューするドライランモードをサポート
- シンプルなコマンドラインインターフェース

## インストール


```bash
git clone https://github.com/yourusername/gi_cleaner.git
cd gi_cleaner
pip install -e .
```


pipでインストール後、`gi_cleaner`コマンドがグローバルに使用可能になります：

```bash
gi_cleaner
```

## 使い方

### 基本的な使い方

`.gitignore`ファイルがあるディレクトリに移動して実行：

```bash
gi_cleaner
```

### オプション

```
使用方法: gi_cleaner [-h] [-d DIRECTORY] [-n] [-y] [-v]

.gitignoreで無視されるファイルを削除する

オプション:
  -h, --help            ヘルプメッセージを表示して終了
  -d DIRECTORY, --directory DIRECTORY
                        削除対象のディレクトリ（デフォルト: カレントディレクトリ）
  -n, --dry-run         実際に削除せずに削除対象を表示
  -y, --yes             確認プロンプトをスキップ
  -v, --version         バージョン番号を表示して終了
```

### 使用例

**削除対象をプレビュー（ドライランモード）：**

```bash
gi_cleaner --dry-run
```

**特定のディレクトリを指定：**

```bash
gi_cleaner -d /path/to/project
```

**確認プロンプトをスキップ：**

```bash
gi_cleaner --yes
```

**オプションの組み合わせ：**

```bash
gi_cleaner -d /path/to/project --dry-run
```

## 動作の仕組み

1. 対象ディレクトリとすべてのサブディレクトリから`.gitignore`ファイルを読み込む
2. プロジェクト内のすべてのファイルとディレクトリをスキャン
3. `.gitignore`のパターンに一致するファイル/ディレクトリを特定
4. 削除対象の一覧を表示
5. ユーザーに確認を求める
6. 確認されたアイテムを削除

このツールはGitと同じパターンマッチングルールに従います：
- 親ディレクトリのパターンはすべてのサブディレクトリに適用
- サブディレクトリの`.gitignore`ファイルのパターンは、そのサブディレクトリとその子にのみ適用
- `.git`ディレクトリは常にスキャン対象から除外

## 必要条件

- Python 3.10以上
- pathspecライブラリ（自動的にインストールされます）

## ライセンス

MIT License

## コントリビューション

コントリビューションを歓迎します！お気軽にPull Requestを送ってください。
